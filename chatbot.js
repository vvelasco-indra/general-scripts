document.addEventListener("DOMContentLoaded",function(){{var e=document.createElement("div");const n=document.createElement("div");e.style.position="fixed",e.style.bottom="20px",e.style.right="20px",e.style.width="60px",e.style.height="60px",e.style.backgroundColor="#007bff",e.style.color="#fff",e.style.borderRadius="50%",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.cursor="pointer",e.style.boxShadow="0px 4px 8px rgba(0, 0, 0, 0.2)",e.textContent="Chat",n.style.position="fixed",n.style.bottom="90px",n.style.right="20px",n.style.width="300px",n.style.height="400px",n.style.backgroundColor="#fff",n.style.border="1px solid #ccc",n.style.borderRadius="8px",n.style.boxShadow="0px 4px 8px rgba(0, 0, 0, 0.2)",n.style.display="none",n.style.flexDirection="column",n.style.overflow="hidden";var t=document.createElement("div");t.style.backgroundColor="#007bff",t.style.color="#fff",t.style.padding="10px",t.style.textAlign="center",t.style.fontWeight="bold",t.style.borderBottom="1px solid #ccc",t.textContent="Chat";const d=document.createElement("div");d.style.flex="1",d.style.padding="10px",d.style.overflowY="auto";var l=document.createElement("div");l.style.display="flex",l.style.borderTop="1px solid #ccc";const r=document.createElement("input");r.type="text",r.placeholder="Escribe un mensaje...",r.style.flex="1",r.style.border="none",r.style.padding="10px";var o=document.createElement("button");o.textContent="Enviar",o.style.border="none",o.style.backgroundColor="#007bff",o.style.color="#fff",o.style.padding="10px",o.style.cursor="pointer",l.appendChild(r),l.appendChild(o),n.appendChild(t),n.appendChild(d),n.appendChild(l),e.addEventListener("click",()=>{n.style.display="none"===n.style.display?"flex":"none"}),o.addEventListener("click",async()=>{var e=r.value.trim();if(e){var t=document.createElement("div");t.textContent=e,t.style.margin="5px 0",t.style.padding="10px",t.style.backgroundColor="#e9ecef",t.style.borderRadius="4px",d.appendChild(t),d.scrollTop=d.scrollHeight,r.value="";try{var l=await fetch("https://tu-api-endpoint.com/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})});if(!l.ok)throw new Error("Error en la API");var o=(await l.json()).answer,n=document.createElement("div");n.textContent=o,n.style.margin="5px 0",n.style.padding="10px",n.style.backgroundColor="#007bff",n.style.color="#fff",n.style.borderRadius="4px",d.appendChild(n),d.scrollTop=d.scrollHeight}catch(e){t=document.createElement("div");t.textContent="Error al obtener respuesta",t.style.margin="5px 0",t.style.padding="10px",t.style.backgroundColor="#f8d7da",t.style.color="#721c24",t.style.borderRadius="4px",d.appendChild(t),d.scrollTop=d.scrollHeight}}}),document.body.appendChild(e),document.body.appendChild(n)}});